I"Ì<h1 id="cosmos-fork-detection-and-ibc-fork-detection">Cosmos fork detection and IBC fork detection</h1>

<h2 id="status">Status</h2>

<p>This is a work in progress.
This directory captures the ongoing work and discussion on fork
detection both in the context of a Cosmos light node and in the
context of IBC. It contains the following files</p>

<h3 id="detectionmd"><a href="/v0.37/spec/light-client/detection/detection_003_reviewed.md">detection.md</a></h3>

<p>a draft of the light node fork detection including ‚Äúproof of fork‚Äù
  definition, that is, the data structure to submit evidence to full
  nodes.</p>

<h3 id="discussionsmd"><a href="/v0.37/spec/light-client/detection/discussions.md">discussions.md</a></h3>

<p>A collection of ideas and intuitions from recent discussions</p>

<ul>
  <li>the outcome of recent discussion</li>
  <li>a sketch of the light client supervisor to provide the context in
which fork detection happens</li>
  <li>a discussion about lightstore semantics</li>
</ul>

<h3 id="req-ibc-detectionmd"><a href="/v0.37/spec/light-client/detection/req-ibc-detection.md">req-ibc-detection.md</a></h3>

<ul>
  <li>a collection of requirements for fork detection in the IBC
context. In particular it contains a section ‚ÄúRequired Changes in
ICS 007‚Äù with necessary updates to ICS 007 to support Cosmos
fork detection</li>
</ul>

<h3 id="draft-functionsmd"><a href="/v0.37/spec/light-client/detection/draft-functions.md">draft-functions.md</a></h3>

<p>In order to address the collected requirements, we started to sketch
some functions that we will need in the future when we specify in more
detail the</p>

<ul>
  <li>fork detections</li>
  <li>proof of fork generation</li>
  <li>proof of fork verification</li>
</ul>

<p>on the following components.</p>

<ul>
  <li>IBC on-chain components</li>
  <li>Relayer</li>
</ul>

<h3 id="todos">TODOs</h3>

<p>We decided to merge the files while there are still open points to
address to record the current state an move forward. In particular,
the following points need to be addressed:</p>

<ul>
  <li>
    <p><a href="https://github.com/informalsystems/tendermint-rs/pull/479#discussion_r466504876">https://github.com/informalsystems/tendermint-rs/pull/479#discussion_r466504876</a></p>
  </li>
  <li>
    <p><a href="https://github.com/informalsystems/tendermint-rs/pull/479#discussion_r466493900">https://github.com/informalsystems/tendermint-rs/pull/479#discussion_r466493900</a></p>
  </li>
  <li>
    <p><a href="https://github.com/informalsystems/tendermint-rs/pull/479#discussion_r466489045">https://github.com/informalsystems/tendermint-rs/pull/479#discussion_r466489045</a></p>
  </li>
  <li>
    <p><a href="https://github.com/informalsystems/tendermint-rs/pull/479#discussion_r466491471">https://github.com/informalsystems/tendermint-rs/pull/479#discussion_r466491471</a></p>
  </li>
</ul>

<p>Most likely we will write a specification on the light client
supervisor along the outcomes of</p>

<ul>
  <li><a href="https://github.com/informalsystems/tendermint-rs/pull/509">https://github.com/informalsystems/tendermint-rs/pull/509</a></li>
</ul>

<p>that also addresses initialization</p>

<ul>
  <li><a href="https://github.com/tendermint/spec/issues/131">https://github.com/tendermint/spec/issues/131</a></li>
</ul>
:ET